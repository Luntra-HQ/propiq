# ============================================================================
# DealIQ Backend Environment Variables Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (it's in .gitignore)
# ============================================================================

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=development  # development, staging, or production
DEBUG=True  # Set to False in production

# ============================================================================
# ALLOWED ORIGINS (CORS)
# ============================================================================
# Comma-separated list of allowed origins for CORS
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://propiq.luntra.one

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# Secret key for signing JWT tokens - CHANGE THIS IN PRODUCTION!
JWT_SECRET=your-secret-key-change-in-production-use-long-random-string

# ============================================================================
# SUPABASE DATABASE (PostgreSQL)
# ============================================================================
# Get these from: Supabase Dashboard → Settings → API
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # KEEP SECRET!

# Direct PostgreSQL connection (optional, for migrations)
# Get from: Supabase Dashboard → Settings → Database → Connection String → URI
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres

# ============================================================================
# AZURE OPENAI (AI Property Analysis)
# ============================================================================
# Get these from Azure Portal → Azure OpenAI Service
AZURE_OPENAI_ENDPOINT=https://luntra-openai-service.cognitiveservices.azure.com/
AZURE_OPENAI_KEY=your-azure-openai-api-key-here
AZURE_OPENAI_API_VERSION=2025-01-01-preview
AZURE_OPENAI_DEPLOYMENT=gpt-4o-mini  # Your deployment name

# ============================================================================
# SENDGRID (Email Marketing & Onboarding)
# ============================================================================
# Get from: SendGrid Dashboard → Settings → API Keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=team@propiq.luntra.one
SENDGRID_LIST_ID=your-sendgrid-list-id  # For email subscriber list

# Onboarding email configuration
FROM_EMAIL=team@propiq.luntra.one  # Email address used in onboarding emails
SUPPORT_EMAIL=support@propiq.luntra.one  # Support contact email
APP_URL=https://propiq.luntra.one  # Production URL for links in emails

# ============================================================================
# STRIPE (Payments)
# ============================================================================
# Get from: Stripe Dashboard → Developers → API Keys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Price IDs for subscription tiers (get from Stripe Dashboard → Products)
STRIPE_PRICE_STARTER=price_xxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PRO=price_xxxxxxxxxxxxxxxxxx
STRIPE_PRICE_ELITE=price_xxxxxxxxxxxxxxxxxx

# ============================================================================
# SENTRY (Error Monitoring & Performance)
# ============================================================================
# Get from: Sentry Dashboard → Settings → Projects → [Your Project] → Client Keys (DSN)
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxx@o000000.ingest.sentry.io/0000000
SENTRY_TRACES_SAMPLE_RATE=1.0  # 1.0 = 100% of transactions, 0.1 = 10%
SENTRY_PROFILES_SAMPLE_RATE=1.0  # Performance profiling sample rate
RELEASE_VERSION=propiq@3.1.1  # Version for release tracking

# ============================================================================
# OPTIONAL: LEGACY MONGODB (for migration only)
# ============================================================================
# Only needed if migrating data from MongoDB to Supabase
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority

# ============================================================================
# AZURE APPLICATION INSIGHTS (Monitoring - Optional)
# ============================================================================
# Optional - for advanced monitoring and analytics (alternative to Sentry)
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
# APPINSIGHTS_INSTRUMENTATION_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# ============================================================================
# RATE LIMITING
# ============================================================================
# Optional - configure rate limiting for API endpoints
# RATE_LIMIT_PER_MINUTE=60
# RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# NOTES:
# ============================================================================
# 1. After copying to .env, fill in all values with your actual credentials
# 2. For production, use strong random strings for JWT_SECRET
# 3. Keep SUPABASE_SERVICE_KEY and STRIPE_SECRET_KEY secure
# 4. Update ALLOWED_ORIGINS to include your production domain
# 5. Set DEBUG=False and ENVIRONMENT=production in production
# 6. For email to work: Verify domain propiq.luntra.one in SendGrid Dashboard
#    and set up SPF/DKIM DNS records for proper email authentication
